<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Gestión de Comerciales</title>

        <!-- Bootstrap -->
        <link href="js\libs\twitter-bootstrap\css\bootstrap.min.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>

        <div id="pagina" class="container "  >
            <div>
                <div class=" row" style="margin-left: 0.1%;padding: 2.5%" >

                    <img   style="width:5%;height: 5%" src="img/icono48/login.png"  alt="login" >

                    <b style="font-size:250%">Iniciar Sesión</b>

                </div>                    
                <div class="row" style="margin-left: 8%">
                    <form role="form">
                        <div class="form-group" style="margin-bottom: 25%">


                            <div class="form-group" >       

                                <input class="col-xs-12 " style="font-size:180%"  type="text" name="usuario" id="login" placeholder="login" />
                            </div>
                            <br>
                            <div class="form-group">       

                                <input class="col-xs-12 " style="font-size:180%"  type="password" name="pass" id="pass" placeholder="password" />
                            </div>

                            <br>
                            <div class="form-group" style="margin-bottom: 2%">   
                                <input style="font-size:200%" class="btn btn-primary col-xs-6 col-xs-offset-2" type="button" value="Iniciar Sesión" onclick="createRequest()" >

                            </div>
                            <div class="form-group">   
                                <input style="font-size:200%" class="btn btn-warning col-xs-6 col-xs-offset-2" type="button" value="Reconoceme" onclick="createRequest()" >

                            </div>
                        </div>
                    </form>

                </div>

                <div id="error"></div>
                <div class="row" style="padding-right: 60%;font-size: 200%">

                    <p align="center"><b>&copy;2016</b></p>


                    <p align="center"><b>José Javier García Romero</b></p>

                </div>
            </div>
        </div>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="js\libs\jquery\jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <!--C:\Users\pc\cartera22\www\js\libs\twitter-bootstrap\js\bootstrap.min.js-->
        <script src="js\libs\twitter-bootstrap\css\bootstrap.min.css"></script>
        <script>
                                function createRequest()
                                {
                                    var xhttp;

                                    var str1 = document.getElementById("login").value;
                                    var str2 = document.getElementById("pass").value;

                                    xhttp = new XMLHttpRequest();
                                    xhttp.onreadystatechange = function ()
                                    {
                                        if (xhttp.readyState === 4 && xhttp.status === 200)
                                        {
                                            var respuesta = xhttp.responseText;
                                            //alert('hola');                              

                                            switch (respuesta)
                                            {
                                                case "1":
                                                    mensajeError = "Debe escribir un usuario.";
                                                    break;
                                                case "2":
                                                    mensajeError = "La contraseña no puede estar en blanco.";
                                                    break;
                                                case "3":
                                                    mensajeError = "Usuario o contraseña incorrecta.";
                                                    break;

                                                default:
                                                    window.location = "http://192.168.1.10:8383/cartera22/" + respuesta;
                                                    break

                                            }

                                            var element = document.getElementById("error");
                                            element.innerHTML = mensajeError;




                                        }
                                    };
                                    xhttp.open("GET", "http://192.168.1.10:8080/GestorCarteras_REST/rest/App_Service/valida/" + str1 + "," + str2, true);


                                    xhttp.send();


                                }


        </script>

    </body>
</html>
